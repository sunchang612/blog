(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{411:function(t,a,s){"use strict";s.r(a);var n=s(34),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"å°ç¨‹åºåŠ¨æ€ç”Ÿæˆå¸¦å‚æ•°çš„äºŒç»´ç "}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å°ç¨‹åºåŠ¨æ€ç”Ÿæˆå¸¦å‚æ•°çš„äºŒç»´ç "}},[t._v("#")]),t._v(" å°ç¨‹åºåŠ¨æ€ç”Ÿæˆå¸¦å‚æ•°çš„äºŒç»´ç ")]),t._v(" "),s("h2",{attrs:{id:"å‰æ™¯"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‰æ™¯"}},[t._v("#")]),t._v(" å‰æ™¯")]),t._v(" "),s("ul",[s("li",[t._v("æœ€è¿‘ç”¨ taro æå°ç¨‹åºè¦åŠ¨æ€ç”ŸæˆäºŒç»´ç ï¼Œéœ€è¦åŠ äºŒç»´ç é‡Œé¢æ·»åŠ ä¸åŒçš„å‚æ•°ï¼Œçœ‹äº†ä¸€ä¸‹"),s("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/qr-code.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("å¾®ä¿¡å°ç¨‹åºç "),s("OutboundLink")],1),t._v("æä¾›çš„å‡ ç§æ–¹æ¡ˆï¼Œæˆ‘çš„ä½¿ç”¨åœºæ™¯ç”¨åˆ°ç¬¬äºŒä¸ª B æ–¹æ¡ˆï¼Œä½†å®ƒçš„å‚æ•°æœ‰é™åˆ¶ï¼Œåªèƒ½ 32 çš„å­—ç¬¦")])]),t._v(" "),s("h3",{attrs:{id:"å‰ç«¯è°ƒç”¨ç”Ÿæˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‰ç«¯è°ƒç”¨ç”Ÿæˆ"}},[t._v("#")]),t._v(" å‰ç«¯è°ƒç”¨ç”Ÿæˆ")]),t._v(" "),s("ul",[s("li",[t._v("è°ƒç”¨æœåŠ¡ç«¯æ¥å£ï¼Œåœ¨ scene é‡Œé¢ä¼ å…¥å‚æ•°ï¼Œå› ä¸ºæœ‰å­—ç¬¦é™åˆ¶ï¼Œæˆ‘çš„å‚æ•°è¾ƒå¤šï¼ŒæŠŠå‚æ•°åå°½é‡çš„ç®€å†™")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" data "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" request"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("post")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("xxxx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    scene"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("c=xxx&p=2&g=123")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    width"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("280")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("ul",[s("li",[t._v("å‚æ•°\n"),s("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/13129256-5f29d7eb7f434c2e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"image.png"}})])]),t._v(" "),s("blockquote",[s("p",[t._v("æˆ‘è¿™é‡Œæ˜¯è°ƒç”¨çš„æœåŠ¡ç«¯ï¼Œå®ƒå»æ‹¿ token è¯·æ±‚å¾®ä¿¡æ¥å£ï¼Œæˆ‘æŠŠéœ€è¦çš„å‚æ•°ä¼ å…¥ï¼Œå®ƒæŠŠå›¾ç‰‡çš„ base64 æŠŠå‰ç¼€å»æ‰çš„æ ¼å¼ç»™æˆ‘")])]),t._v(" "),s("h4",{attrs:{id:"æ‹¿åˆ°å›¾ç‰‡å"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ‹¿åˆ°å›¾ç‰‡å"}},[t._v("#")]),t._v(" æ‹¿åˆ°å›¾ç‰‡å")]),t._v(" "),s("ul",[s("li",[t._v("å…ˆæŠŠåˆ›å»ºä¸´æ—¶æ–‡ä»¶åœ°å€")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" filePath "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("Taro"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("USER_DATA_PATH")]),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("/image.png")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("ul",[s("li",[t._v("æŠŠbase64 è½¬æˆ ArrayBuffer")]),t._v(" "),s("li",[t._v("ç„¶åå†™å…¥åˆ°ä¸Šé¢çš„ä¸´æ—¶æ–‡ä»¶åœ°å€å»")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("Taro"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getFileSystemManager")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("writeFile")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   filePath"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" filePath"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   data"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Taro"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("base64ToArrayBuffer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   encoding"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'binary'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("SetCodeImg")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("filePath"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿™é‡Œæˆ‘ç”¨çš„ hook ï¼Œå…¶å®å°±æ˜¯ SetState")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("fail")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'err------\x3e'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])]),s("ul",[s("li",[t._v("ç„¶åæ‹¿è¿™ä¸ªåœ°å€å†™åˆ° canvas é‡Œé¢çš„  drawImage é‡Œé¢")])]),t._v(" "),s("h2",{attrs:{id:"ä½†æ˜¯ï¼Œè¯´ä¸€ä¸‹æˆ‘é‡åˆ°çš„é—®é¢˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä½†æ˜¯ï¼Œè¯´ä¸€ä¸‹æˆ‘é‡åˆ°çš„é—®é¢˜"}},[t._v("#")]),t._v(" ä½†æ˜¯ï¼Œè¯´ä¸€ä¸‹æˆ‘é‡åˆ°çš„é—®é¢˜")]),t._v(" "),s("p",[s("code",[t._v("Android æ‰‹æœºä¸Šï¼Œå¦‚æœè¿ç»­ç”Ÿæˆå‡ æ¬¡ä¸åŒçš„äºŒç»´ç ï¼Œå‚æ•°ä¹Ÿä¸åŒï¼Œä½†å¾—åˆ°çš„ç»“æœæ˜¯ç¬¬ä¸€æ¬¡ç”Ÿæˆçš„å‚æ•°ï¼Œ åªæœ‰çœŸæœºä¸Šä¼šå‡ºç°ï¼Œæ¨¡æ‹Ÿå™¨ä¸Šæ˜¯ä¸ä¼šå‡ºç°çš„")])]),t._v(" "),s("ul",[s("li",[t._v("çœŸçš„æ˜¯å‘æ­»æˆ‘äº†ï¼ŒIOS ä¸Šæ²¡æœ‰è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘è¯•äº†å¥½å‡ ç§æ–¹å¼ï¼Œä¾‹å¦‚ï¼š\n"),s("ol",[s("li",[t._v("å‡çº§taroç‰ˆæœ¬ ğŸ˜­ï¼Œ å‡çº§å¾®ä¿¡ç‰ˆæœ¬")]),t._v(" "),s("li",[t._v("æ¯æ¬¡ç”Ÿæˆå®ŒäºŒç»´ç åï¼Œéƒ½æŠŠäºŒç»´ç ä¸´æ—¶çš„æ–‡ä»¶åˆ é™¤æ‰\n...")])])]),t._v(" "),s("li",[t._v("ç›´æ¥ç”¨ base64 çš„å›¾ç‰‡æ˜¯å¯ä»¥çš„ï¼Œä½†å°ç¨‹åºä¸æ”¯æŒ")])]),t._v(" "),s("h4",{attrs:{id:"è§£å†³æ–¹å¼"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è§£å†³æ–¹å¼"}},[t._v("#")]),t._v(" è§£å†³æ–¹å¼")]),t._v(" "),s("ul",[s("li",[t._v("æŠŠæ¯æ¬¡ç”Ÿæˆçš„ä¸´æ—¶æ–‡ä»¶çš„åœ°å€éƒ½ä¸ä¸€æ ·ï¼Œå› ä¸ºæˆ‘ä¸Šé¢ä¸´æ—¶æ–‡ä»¶åæ˜¯å†™æ­»çš„ï¼Œç›´æ¥ç»™å®ƒæ¯æ¬¡ä¸åŒçš„æ–‡ä»¶å, åœ¨æ–‡ä»¶ååé¢åŠ ä¸Šæ—¶é—´æˆ³")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" filePath "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("Taro"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("USER_DATA_PATH")]),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("/image-")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTime")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v(".png")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h2",{attrs:{id:"è·å–äºŒç»´ç ä¸­çš„å‚æ•°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è·å–äºŒç»´ç ä¸­çš„å‚æ•°"}},[t._v("#")]),t._v(" è·å–äºŒç»´ç ä¸­çš„å‚æ•°")]),t._v(" "),s("ul",[s("li",[t._v("æŸ¥çœ‹æˆ‘çš„å¦ä¸€ä¸ªå°æ–‡ç« \n"),s("a",{attrs:{href:"https://www.jianshu.com/p/fb9862d16468",target:"_blank",rel:"noopener noreferrer"}},[t._v("è·å–äºŒç»´ç å‚æ•°"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=e.exports}}]);